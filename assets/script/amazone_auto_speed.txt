//Amazon auto
home
define
	//screen 420dp -> 425dp
	$pk = com.amazon.mShop.android.shopping
	
	//thời gian sleep giữa các thao tác
	$sleep = sleep -t "random -from 500 -to 900"
	
	//toạ độ cuộn và random thời gian cuộn
	$scrollUp = swipe -orient up -time "random -from 250 to 1500" //time càng bé scroll càng nhanh
	$scrollDown = swipe -orient down -time 'random -from 250 to 1500' //time càng bé scroll càng nhanh
	
	//pick random 1 từ khoá trong số này và chạy
	$randomTukhoa = random -text "bluetooth,headphone,mouse,keyboard,adapter,paper" -var "tukhoa"
	$getTuKhoa = 'getVar  -var "tukhoa"'
	
	//số lần xem sản phẩm trong 1 từ khoá
	$count_product = 'random -from 1 -to 3'
	//số lần bấm add to card hoặc ADD TO LIST
	$random_addtocard = 'random -from 1 -to 2'
	//số lần vuốt ảnh trong sản phẩm
	$random_swipeimage = 'random -from 1 -to 4'
	//số lần vuốt you might also like
	$random_you_maight_also_like = 'random -from 1 -to 4'
	//số lần xem video trong sản phẩm
	$random_video = 'random -from 1 -to 2'
	//số thời gian xem 1 video
	$random_video_time = sleep -t "random -from 10000 -to 30000"
	//số lần vuốt compare with similar item
	$random_compare_with_similar = 'random -from 1 -to 4'
	//số lần vuốt more to consider
	$random_more_to_consider = 'random -from 1 -to 4'
	//số lần vuốt customer_who_bought...
	$random_customer_who_bought = 'random -from 1 -to 4'
	//số lần bấm helpful
	$random_helpful = 'random -from 1 -to 2'
	
	$swipeLeft = 'swipe -orient left -time "random -from 300 -to 700"'
	$enter = click -x 980 -y 1850
	$search = click -x 600 -y 250
	$swipeBellow = swipe -startX 700 -startY 1350 -endX "random -from 50 -to 200" -endY  "random -from 1350 -to 1550" -time "random -from 300 -to 1000"
	$clickBellow = click -x "random -from 100 -to 400" -y "random -from 1200 -to 1450"
	
	
	//
	$timeout_to_stop = -timeout 60000 -else 'stop -text "----------TASK-DONE---------"'
	$swipeRandom = swipe -orient 'random -text "up,down"' -time 'random -from 200 -to 800'
	
endDefine

loop -timeout 500000
	wait -text "Ok" -exactly true -timeout 300000 -thenclick true
endloop

loop -timeout 500000
	if -text "NONE OF THE ABOVE" -thenClick true -timeout 300000
endloop

sequence
	log -text "----------TASK-START---------"
	openapp -p "$pk"
	sleep -t 5000

	wait -text 'Done' -exactly true -timeout 10000 -thenInput '' -thenClick true -then '' -else '' -var "donevar"
	$sleep
	if -getVar "donevar" -equal null -else {wait -text 'Skip sign in' -exactly true -timeout 10000 -thenClick true}
	$sleep
	$sleep
	$amazon_icon
	$sleep
	$sleep
	$search
	wait -editText '' -pos 0 -timeout 10000 -thenClick true
	
	$sleep
	$sleep
	$randomTukhoa
	wait -text 'What are you looking for?' -exactly true -timeout 10000 -thenInput $getTuKhoa -slowinput true
	$sleep
	wait -editText '' -pos 0 -timeout 10000 -thenClick true
	$sleep
	$enter
	loop -i $count_product
		
		if -text '$' $timeout_to_stop
	
	
		$sleep
		$sleep
		$sleep
		$sleep
		
		loop -i 'random -from 1 -to 4'
			swipe -orient up -time 'random -from 300 -to 800'
			$sleep
		endLoop
		
		$sleep
		//if -text '' -view 'Image' -pos 'random -from 6 -to 15' -thenScrollTo true -thenClick true
		click -x 'random -from 200 -to 1000' -y 'random -from 750 -to 1800'
		click -x 'random -from 200 -to 1000' -y 'random -from 750 -to 1800'
		
		if -text 'reviews' $timeout_to_stop
		
		$sleep
		$sleep
		$sleep
		$sleep
		wait -text 'Share' -exactly true -pos 0 -timeout 10000 -thenScrollTo true
		
		clickCenter
		$sleep
		$sleep
		
		setInfo -p "$pk" -field "current_status" -value "slide image"
		
		if -view 'Gallery' -id 'images' -timeout 3000 -then $swipeLeft -else 'click -x 700 -y 1150'
		
		$sleep
		if -view 'Gallery' -id 'images' -timeout 3000 -then $swipeLeft -else 'click -x 700 -y 1250'
		$sleep
		if -view 'Gallery' -id 'images' -timeout 3000 -then $swipeLeft -else 'click -x 700 -y 1350'
		$sleep
		if -view 'Gallery' -id 'images' -timeout 3000 -then $swipeLeft -else 'click -x 700 -y 1450'
		$sleep
		if -view 'Gallery' -id 'images' -timeout 3000 -then $swipeLeft -else 'click -x 700 -y 1550'
		$sleep
		
		loop -i $random_swipeimage
			if -view 'Gallery' -id 'images' -timeout 2000 -then $swipeLeft -else 'click -x 700 -y "random -from 1100 -to 1800"'
			$sleep
		endloop

		if -view 'Gallery' -id 'images' -timeout 2000 -then 'back'
		
		if -text 'reviews' $timeout_to_stop
		
		setInfo -p "$pk" -field "current_status" -value "slide You might also like"
		
		loop -i 'random -from 2 -to 5'
			swipe -orient up -time 'random -from 200 -to 800'
			$sleep
		endLoop
		
		
		wait -text 'You might also like' -exactly true -timeout 5000 -thenScrollTo true -var "alsolike"
		$sleep
		loop -i $random_you_maight_also_like
			if -getVar "alsolike" -equal null -else {$swipeBellow}
			if -getVar "alsolike" -equal null -else {$sleep}
		endLoop
		
		$sleep
		
		setInfo -p "$pk" -field "current_status" -value "watch Videos"
		
		loop -i 'random -from 2 -to 5'
			swipe -orient 'random -text "up,down"' -time 'random -from 200 -to 800'
			$sleep
		endLoop
		
		$sleep
		loop -i $random_video
			wait -text 'Videos' -exactly true -timeout 5000 -thenScrollTo true  -else {$swipeRandom} -var "textvideo"
			if -getVar "textvideo" -equal null -else {$sleep
			if -getVar "textvideo" -equal null -else {if -text 'Videos' -exactly true -timeout 3000 -then 'click -x "random -from 100 -to 450" -y "random -from 1225 -to 1230"'}
			
			if -getVar "textvideo" -equal null -else {$sleep}
			if -getVar "textvideo" -equal null -else {if -text 'Watch' -exactly true -timeout 3000 -then '$random_video_time' -else 'click -x "random -from 100 -to 450" -y "random -from 1225 -to 1230"'}
			if -getVar "textvideo" -equal null -else {$sleep}
			if -getVar "textvideo" -equal null -else {if -text 'Watch' -exactly true -timeout 2000 -then 'back'}
			if -getVar "textvideo" -equal null -else {wait -text 'Videos' -exactly true -timeout 10000 -thenScrollTo true}
			if -getVar "textvideo" -equal null -else {$swipeBellow}
			if -getVar "textvideo" -equal null -else {$sleep}
		endLoop
		
		$sleep
		if -text 'Watch' -exactly true -timeout 3000 -then 'back'
		
		if -text 'reviews' $timeout_to_stop

		$sleep
		setInfo -p "$pk" -field "current_status" -value "Compare with similar items"
		
		loop -i 'random -from 2 -to 5'
			swipe -orient 'random -text "up,down"' -time 'random -from 200 -to 800'
			$sleep
		endLoop
		
		$sleep
		
		wait -text 'Compare with similar items' -exactly true -timeout 3000 -thenScrollTo true -else {$swipeRandom} -var "similar"
		loop -i $random_compare_with_similar
			if -getVar "similar" -equal null -else {wait -text 'Compare with similar items' -exactly true -timeout 3000 -thenScrollTo true }
			if -getVar "similar" -equal null -else {$sleep}
			if -getVar "similar" -equal null -else {if -text 'Compare with similar items' -exactly true -timeout 3000 -then '$swipeBellow'}
			if -getVar "similar" -equal null -else {if -text 'Compare with similar items' -exactly true -then '$sleep'}
		endLoop


		setInfo -p "$pk" -field "current_status" -value "More to consider from our brands"

		$sleep
		loop -i 'random -from 2 -to 5'
			swipe -orient 'random -text "up,down"' -time 'random -from 200 -to 800'
			$sleep
		endLoop
		
		$sleep
		wait -text 'More to consider from our brands' -exactly true -timeout 3000 -thenScrollTo true -else {$swipeRandom} -var "consider"
		loop -i $random_more_to_consider
			if -getVar "consider" -equal null -else {wait -text 'More to consider from our brands' -exactly true -timeout 3000 -thenScrollTo true}
			if -getVar "consider" -equal null -else {$sleep}
			if -getVar "consider" -equal null -else {if -text 'More to consider from our brands' -exactly true -timeout 3000 -then '$swipeBellow'}
			if -getVar "consider" -equal null -else {if -text 'More to consider from our brands' -exactly true -then '$sleep'}
		endLoop

		$sleep
		setInfo -p "$pk" -field "current_status" -value "Customer who bought this item also bought"

		loop -i 'random -from 2 -to 5'
			swipe -orient 'random -text "up,down"' -time 'random -from 200 -to 800'
			$sleep
		endLoop
		
		$sleep
		wait -text 'Customer who bought this item also bought' -exactly true -timeout 3000 -thenScrollTo true -else {$swipeRandom} -var "alsobuy"
		loop -i $random_customer_who_bought
			if -getVar "alsobuy" -equal null -else {wait -text 'Customer who bought this item also bought' -exactly true -timeout 3000 -thenScrollTo true}
			if -getVar "alsobuy" -equal null -else {$sleep}
			if -getVar "alsobuy" -equal null -else {if -text 'Customer who bought this item also bought' -exactly true -timeout 3000 -then '$swipeBellow'}
			if -getVar "alsobuy" -equal null -else {if -text 'Customer who bought this item also bought' -exactly true -then '$sleep'}
		endLoop
		
		
		setInfo -p "$pk" -field "current_status" -value "Global ratings"

		$sleep
		$sleep
		wait -text 'global ratings' -timeout 3000 -thenScrollTo true
		$sleep
		$sleep
		wait -text 'global ratings'-timeout 3000 -thenClick true
		$sleep
		$sleep
		
		//if -text 'Helpful' -exactly true $timeout_to_stop
		
		loop -i $random_helpful
			swipe -orient up -time 'random -from 200 -to 800'
			$sleep
			wait -buttonText 'Helpful' -pos 'random -from 0 -to 10' -exactly true -timeout 3000 -thenClick true
			$sleep
		endLoop
		
		loop -i $random_helpful
			swipe -orient up -time 'random -from 200 -to 800'
			$sleep
			wait -buttonText 'Helpful' -pos 'random -from 0 -to 10' -exactly true -timeout 3000 -thenClick true
			$sleep
		endLoop
		if -text 'We apologize but this account has not met' -timeout 5000 -then 'back'
		if -text 'Email (phone for mobile accounts)' -timeout 5000 -then 'back'
		$sleep
		if -text 'Select Format' -exactly true -timeout 5000 -then 'back'
		$sleep
		
		back
		
		if -text 'reviews' $timeout_to_stop

		wait -text 'ADD TO LIST' -timeout 3000 -thenScrollTo true
		$sleep
		wait -text 'ADD TO LIST' -exactly true -timeout 3000 -thenInput '' -thenClick true
		$sleep
		
		wait -text 'Shopping List' -exactly true -timeout 15000 -thenInput '' -thenClick true
		$sleep
		
		if -text 'Select Format' -exactly true -timeout 5000 -then 'back'
		$sleep
		
		if -text 'reviews' $timeout_to_stop
		wait -text 'Add to Cart' -timeout 5000 -thenScrollTo true -var "addtocard"
		loop -i $random_addtocard
			if -getVar "addtocard" -equal null -else {$sleep}
			if -getVar "addtocard" -equal null -else {wait -text 'Add to Cart' -timeout 3000 -thenScrollTo true}
			if -getVar "addtocard" -equal null -else {wait -text 'Add to Cart' -timeout 3000 -thenClick true}
			if -getVar "addtocard" -equal null -else {$sleep}
			if -getVar "addtocard" -equal null -else {wait -text 'Discover additional products' -timeout 10000 -then 'click -x 500 -y 400'}
			if -getVar "addtocard" -equal null -else {$sleep}
			if -getVar "addtocard" -equal null -else {wait -text 'Added to your cart' -exactly true -timeout 10000  -then 'click -x 500 -y 400'}
			if -getVar "addtocard" -equal null -else {$sleep}
			if -getVar "addtocard" -equal null -else {wait -text 'Done' -timeout 3000 -thenClick true}
			if -getVar "addtocard" -equal null -else {$sleep}
		endLoop
		
		
		setInfo -p "$pk" -field "current_status" -value "Ran_dom action and click to product"
		$sleep
		$sleep
		$sleep
		wait -text 'random -text "Customer who bought this item also bought,More to consider from our brands,Compare with similar items,You might also like"' -exactly true -timeout 3000 -thenScrollTo true
		$sleep
		$sleep
		
		if -text 'reviews' $timeout_to_stop

		$clickBellow
		
		
		wait -text 'random -text "Customer who bought this item also bought,More to consider from our brands,Compare with similar items,You might also like"' -exactly true -pos 0 -timeout 4000 -thenScrollTo true
		$sleep
		$sleep
		$clickBellow
		
		$sleep
		$sleep
		$sleep
		$sleep
		$sleep
		$sleep
		
		wait -text 'Search' -exactly true -timeout 10000 -thenClick true
		$sleep
		$sleep
		$enter
		//if -text 'RESULTS' -exactly true -timeout 15000 -else 'back'
		//if -text 'RESULTS' -exactly true -timeout 15000 -else 'back'
		//if -text 'RESULTS' -exactly true -timeout 15000 -else 'back'
		
		wait -text 'Next' -exactly true -timeout 10000 -thenScrollTo true
		$sleep
		wait -text 'Next' -exactly true -timeout 10000 -thenClick true
		$sleep
		if -text '$' $timeout_to_stop
	endLoop
	
	home
	
	log -text "----------TASK-DONE---------"
endSequence